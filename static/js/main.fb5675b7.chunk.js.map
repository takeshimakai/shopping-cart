{"version":3,"sources":["components/Home.js","components/Shop.js","components/Nav.js","components/CartIcon.js","components/Cart.js","App.js","index.js"],"names":["Home","className","Shop","props","addToCart","useState","books","setBooks","useEffect","fetchData","a","fetch","data","json","map","book","price","Math","floor","random","quantity","React","createRef","id","isbn","src","image","alt","title","ref","type","defaultValue","min","onClick","e","button","target","textContent","disabled","setTimeout","Nav","to","CartIcon","cart","setQuantity","total","Cart","handleCartQuantityChange","removeBook","setTotal","value","onChange","App","setCart","exact","path","component","some","item","newCart","Number","current","prevCart","updatedCart","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fb5675b7.chunk.js","sourcesContent":["const Home = () => {\n  return (\n    <div className='home-container'>\n      <div className='title-container'>\n        <h1>Book</h1>\n        <h1>Shop</h1>\n      </div>\n    </div>\n  )\n}\n\nexport default Home;\n","import React, { useState, useEffect } from 'react';\n\nconst Shop = (props) => {\n  const { addToCart } = props;\n\n  const [books, setBooks] = useState([]);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    const data = await fetch('https://fakerapi.it/api/v1/books?_quantity=9');\n    const books = await data.json();\n    setBooks(books.data.map((book) => (\n      {\n        ...book,\n        price: Math.floor(Math.random() * Math.floor(100))\n      }))\n    )\n  }\n\n  return (\n    <div className='shop-container main-container'>\n      <h1>Shop</h1>\n      <div className='books-container'>\n        {books.map((book) => {\n          const quantity = React.createRef();\n          return (\n            <div key={book.isbn} id={book.isbn} className='book-container'>\n              <img src={book.image} alt='some book' />\n              <h2>{book.title}</h2>\n              <p>${book.price}</p>\n              <label className='quantity'>\n                Quantity:\n                <input\n                  ref={quantity}\n                  className='quantity-input'\n                  type='number'\n                  defaultValue='1'\n                  min='1'\n                />\n              </label>\n              <button\n                className='add-btn'\n                type='button'\n                onClick={(e) => {\n                  const button = e.target;\n                  addToCart(book, quantity);\n                  button.textContent = 'Added!';\n                  button.disabled = true;\n                  setTimeout(() => {\n                    button.textContent = 'Add to Cart';\n                    button.disabled = false;\n                  }, 800);\n                }}\n              >\n                Add to Cart\n              </button>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default Shop;\n","import { Link } from 'react-router-dom';\n\nconst Nav = () => {\n  return (\n    <ul className='nav'>\n      <li>\n        <Link to='/shopping-cart'>HOME</Link>\n      </li>\n      <li>\n        <Link to='/shopping-cart/shop'>SHOP</Link>\n      </li>\n    </ul>\n  )\n}\n\nexport default Nav;\n","import { useEffect, useState } from 'react';\n\nconst CartIcon = (props) => {\n  const { cart } = props;\n\n  const [quantity, setQuantity] = useState(0);\n\n  useEffect(() => {\n    let total = 0;\n    for (let obj of cart) {\n      total += obj.quantity;\n    }\n    setQuantity(total);\n  }, [cart]);\n\n  return (\n    <div className='cart-icon'>\n      <p>CART ({quantity})</p>\n    </div>\n  )\n}\n\nexport default CartIcon;\n","import { useEffect, useState } from 'react';\n\nconst Cart = (props) => {\n  const { cart, handleCartQuantityChange, removeBook } = props;\n\n  const [total, setTotal] = useState(0);\n\n  useEffect(() => {\n    let total = 0;\n    for (let book of cart) {\n      total += book.quantity * book.price;\n    }\n    setTotal(total);\n  }, [cart]);\n\n  return (\n    <div className='cart-container main-container'>\n      <table>\n        <thead>\n          <tr>\n            <th>Title</th>\n            <th className='quantity-column'>Quantity</th>\n            <th className='price-column'>Price</th>\n            <th />\n          </tr>\n        </thead>\n        <tbody>\n          {cart.map((book) => (\n            <tr key={book.isbn}>\n              <td>{book.title}</td>\n              <td>\n                <input\n                  className='cart-quantity-input'\n                  type='number'\n                  value={book.quantity}\n                  min='1'\n                  onChange={(e) => handleCartQuantityChange(e, book)}\n                />\n              </td>\n              <td className='price-td'>${book.price * book.quantity}</td>\n              <td className='remove'>\n                <button className='remove-btn' onClick={() => removeBook(book)}>&#10005;</button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n        <tfoot>\n          <tr>\n              <td />\n              <td>Total</td>\n              <td className='price-td'>${total}</td>\n              <td />\n            </tr>\n        </tfoot>\n      </table>\n      <button className='checkout-btn'>Checkout</button>\n    </div>\n  )\n}\n\nexport default Cart;\n","import './styles.css';\nimport { useState } from 'react';\nimport { BrowserRouter, Switch, Route, Link } from 'react-router-dom';\nimport Home from './components/Home';\nimport Shop from './components/Shop';\nimport Nav from './components/Nav';\nimport CartIcon from './components/CartIcon';\nimport Cart from './components/Cart'\n\nconst App = () => {\n  const [cart, setCart] = useState([]);\n\n  const addToCart = (book, quantity) => {\n    const alreadyInCart = cart.some((item) => item.isbn === book.isbn);\n    if (alreadyInCart) {\n      const newCart = cart.map((item) => {\n        if (item.isbn === book.isbn) {\n          item.quantity += Number(quantity.current.value);\n        }\n        return item;\n      })\n      setCart(newCart);\n    } else {\n      setCart((prevCart) => [\n        ...prevCart,\n        {\n          ...book,\n          quantity: Number(quantity.current.value)\n        }\n      ]);\n    }\n  }\n\n  const handleCartQuantityChange = (e, book) => {\n    const quantity = Number(e.target.value);\n    const updatedCart = cart.map((item) => {\n      if (item.isbn === book.isbn) {\n        item.quantity = quantity;\n      }\n      return item;\n    })\n    setCart(updatedCart);\n  }\n\n  const removeBook = (book) => {\n    setCart((prevCart) => prevCart.filter((item) => item.isbn !== book.isbn));\n  }\n\n  return (\n    <BrowserRouter>\n      <Nav />\n      <Link to='/cart'>\n        <CartIcon cart={cart} />\n      </Link>\n      <Switch>\n        <Route exact path='/shopping-cart' component={Home} />\n        <Route exact path='/shopping-cart/shop'>\n          <Shop addToCart={addToCart} />\n        </Route>\n        <Route exact path='/shopping-cart/cart'>\n          <Cart\n            cart={cart}\n            handleCartQuantityChange={handleCartQuantityChange}\n            removeBook={removeBook}\n          />\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}