(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{30:function(t,e,c){},37:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c(1),r=c.n(a),i=c(21),s=c.n(i),j=c(11),o=c(24),b=c(7),u=(c(30),c(10)),l=c(2),d=function(){return Object(n.jsx)("div",{className:"home-container",children:Object(n.jsxs)("div",{className:"title-container",children:[Object(n.jsx)("h1",{children:"Book"}),Object(n.jsx)("h1",{children:"Shop"})]})})},h=c(17),O=c.n(h),x=c(22),p=function(t){var e=t.addToCart,c=Object(a.useState)([]),i=Object(b.a)(c,2),s=i[0],o=i[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){var t=Object(x.a)(O.a.mark((function t(){var e,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://fakerapi.it/api/v1/books?_quantity=9");case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,o(c.data.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{price:Math.floor(Math.random()*Math.floor(100))})})));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"shop-container main-container",children:[Object(n.jsx)("h1",{children:"Shop"}),Object(n.jsx)("div",{className:"books-container",children:s.map((function(t){var c=r.a.createRef();return Object(n.jsxs)("div",{id:t.isbn,className:"book-container",children:[Object(n.jsx)("img",{src:t.image,alt:"some book"}),Object(n.jsx)("h2",{children:t.title}),Object(n.jsxs)("p",{children:["$",t.price]}),Object(n.jsxs)("label",{className:"quantity",children:["Quantity:",Object(n.jsx)("input",{ref:c,className:"quantity-input",type:"number",defaultValue:"1",min:"1"})]}),Object(n.jsx)("button",{className:"add-btn",type:"button",onClick:function(n){var a=n.target;e(t,c),a.textContent="Added!",a.disabled=!0,setTimeout((function(){a.textContent="Add to Cart",a.disabled=!1}),800)},children:"Add to Cart"})]},t.isbn)}))})]})},f=function(){return Object(n.jsxs)("ul",{className:"nav",children:[Object(n.jsx)("li",{children:Object(n.jsx)(u.b,{to:"/shopping-cart",children:"HOME"})}),Object(n.jsx)("li",{children:Object(n.jsx)(u.b,{to:"/shopping-cart/shop",children:"SHOP"})})]})},m=c(14),v=function(t){var e=t.cart,c=Object(a.useState)(0),r=Object(b.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){var t,c=0,n=Object(m.a)(e);try{for(n.s();!(t=n.n()).done;){c+=t.value.quantity}}catch(a){n.e(a)}finally{n.f()}s(c)}),[e]),Object(n.jsx)("div",{className:"cart-icon",children:Object(n.jsxs)("p",{children:["CART (",i,")"]})})},y=function(t){var e=t.cart,c=t.handleCartQuantityChange,r=t.removeBook,i=Object(a.useState)(0),s=Object(b.a)(i,2),j=s[0],o=s[1];return Object(a.useEffect)((function(){var t,c=0,n=Object(m.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;c+=a.quantity*a.price}}catch(r){n.e(r)}finally{n.f()}o(c)}),[e]),Object(n.jsxs)("div",{className:"cart-container main-container",children:[Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Title"}),Object(n.jsx)("th",{className:"quantity-column",children:"Quantity"}),Object(n.jsx)("th",{className:"price-column",children:"Price"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:e.map((function(t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.title}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{className:"cart-quantity-input",type:"number",value:t.quantity,min:"1",onChange:function(e){return c(e,t)}})}),Object(n.jsxs)("td",{className:"price-td",children:["$",t.price*t.quantity]}),Object(n.jsx)("td",{className:"remove",children:Object(n.jsx)("button",{className:"remove-btn",onClick:function(){return r(t)},children:"\u2715"})})]},t.isbn)}))}),Object(n.jsx)("tfoot",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{}),Object(n.jsx)("td",{children:"Total"}),Object(n.jsxs)("td",{className:"price-td",children:["$",j]}),Object(n.jsx)("td",{})]})})]}),Object(n.jsx)("button",{className:"checkout-btn",children:"Checkout"})]})},N=function(){var t=Object(a.useState)([]),e=Object(b.a)(t,2),c=e[0],r=e[1];return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(f,{}),Object(n.jsx)(u.b,{to:"/cart",children:Object(n.jsx)(v,{cart:c})}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/shopping-cart",component:d}),Object(n.jsx)(l.a,{exact:!0,path:"/shopping-cart/shop",children:Object(n.jsx)(p,{addToCart:function(t,e){if(c.some((function(e){return e.isbn===t.isbn}))){var n=c.map((function(c){return c.isbn===t.isbn&&(c.quantity+=Number(e.current.value)),c}));r(n)}else r((function(c){return[].concat(Object(o.a)(c),[Object(j.a)(Object(j.a)({},t),{},{quantity:Number(e.current.value)})])}))}})}),Object(n.jsx)(l.a,{exact:!0,path:"/shopping-cart/cart",children:Object(n.jsx)(y,{cart:c,handleCartQuantityChange:function(t,e){var n=Number(t.target.value),a=c.map((function(t){return t.isbn===e.isbn&&(t.quantity=n),t}));r(a)},removeBook:function(t){r((function(e){return e.filter((function(e){return e.isbn!==t.isbn}))}))}})})]})]})};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.fb5675b7.chunk.js.map